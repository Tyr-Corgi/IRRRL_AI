@using static IRRRL.Web.Pages.Veteran.Apply

<h4 class="mb-4">Demographic Information</h4>

<div class="alert alert-info mb-4">
    <strong>üìã Optional Information</strong>
    <p class="mb-2">This information is used for government reporting purposes only and does not affect your loan approval.</p>
    <p class="mb-0">You may skip this section if you prefer.</p>
</div>

<EditForm Model="@Model" OnValidSubmit="HandleNext">
    <DataAnnotationsValidator />

    <div class="row">
        <div class="col-md-6 mb-3">
            <label class="form-label">Gender</label>
            <InputSelect @bind-Value="Model.Gender" class="form-select">
                <option value="">Prefer not to say</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
            </InputSelect>
        </div>

        <div class="col-md-6 mb-3">
            <label class="form-label">Ethnicity</label>
            <InputSelect @bind-Value="Model.Ethnicity" class="form-select">
                <option value="">Prefer not to say</option>
                <option value="HispanicLatino">Hispanic or Latino</option>
                <option value="NotHispanicLatino">Not Hispanic or Latino</option>
            </InputSelect>
        </div>
    </div>

    <div class="mb-4">
        <label class="form-label">Race (Select all that apply)</label>
        <div class="form-check">
            <InputCheckbox @bind-Value="Model.RaceAmericanIndian" class="form-check-input" id="raceAmericanIndian" />
            <label class="form-check-label" for="raceAmericanIndian">
                American Indian or Alaska Native
            </label>
        </div>
        <div class="form-check">
            <InputCheckbox @bind-Value="Model.RaceAsian" class="form-check-input" id="raceAsian" />
            <label class="form-check-label" for="raceAsian">
                Asian
            </label>
        </div>
        <div class="form-check">
            <InputCheckbox @bind-Value="Model.RaceBlack" class="form-check-input" id="raceBlack" />
            <label class="form-check-label" for="raceBlack">
                Black or African American
            </label>
        </div>
        <div class="form-check">
            <InputCheckbox @bind-Value="Model.RacePacificIslander" class="form-check-input" id="racePacificIslander" />
            <label class="form-check-label" for="racePacificIslander">
                Native Hawaiian or Other Pacific Islander
            </label>
        </div>
        <div class="form-check">
            <InputCheckbox @bind-Value="Model.RaceWhite" class="form-check-input" id="raceWhite" />
            <label class="form-check-label" for="raceWhite">
                White
            </label>
        </div>
    </div>

    <div class="d-flex justify-content-between mt-4">
        <button type="button" class="btn btn-outline-secondary btn-lg" @onclick="HandleBack">
            ‚Üê Back
        </button>
        <button type="submit" class="btn btn-primary btn-lg">
            Next: Review & Submit ‚Üí
        </button>
    </div>
</EditForm>

@code {
    [Parameter] public ApplicationFormModel Model { get; set; } = new();
    [Parameter] public EventCallback OnNext { get; set; }
    [Parameter] public EventCallback OnBack { get; set; }

    private async Task HandleNext()
    {
        await OnNext.InvokeAsync();
    }

    private async Task HandleBack()
    {
        await OnBack.InvokeAsync();
    }
}

